# ============================================================================
# TRIPLE AI CONFIGURATION - Correct Setup for IraCore Industrial
# ============================================================================
#
# RULES:
# 1. All 3 primaries must be DIFFERENT models
# 2. All 3 backups must be DIFFERENT from each other
# 3. P1 is cheap industrial model (NOT gpt-4o-mini)
# 4. P2 is meta-llama 70B
# 5. P3 is gpt-4o-mini
#
# ============================================================================

# ----------------------------------------------------------------------------
# PRIMARY MODELS (All Different)
# ----------------------------------------------------------------------------

# P1: System/Code AI - Fast, cheap, industrial-grade
# Options: llama-3.1-8b, gemini-flash-1.5, mistral-7b
TRIPLE_AI_P1_PRIMARY=meta-llama/llama-3.1-8b-instruct:free

# P2: Process/Analytics AI - Powerful analysis
# Use llama-3.3-70b if available, otherwise 3.1-70b
TRIPLE_AI_P2_PRIMARY=meta-llama/llama-3.3-70b-instruct

# P3: Domain/Knowledge AI - High quality reasoning
TRIPLE_AI_P3_PRIMARY=openai/gpt-4o-mini

# ----------------------------------------------------------------------------
# BACKUP MODELS (All Different from Primaries AND Each Other)
# ----------------------------------------------------------------------------

# P1 Backup: Different cheap industrial model
TRIPLE_AI_P1_BACKUP=google/gemini-flash-1.5

# P2 Backup: Different from P1 backup
TRIPLE_AI_P2_BACKUP=anthropic/claude-3-haiku

# P3 Backup: Different from P1 and P2 backups
TRIPLE_AI_P3_BACKUP=openai/gpt-3.5-turbo

# ----------------------------------------------------------------------------
# API KEYS
# ----------------------------------------------------------------------------

# OpenRouter (for P1, P2, and potentially backups)
OPENROUTER_API_KEY=<your-openrouter-api-key>

# OpenAI (for P3)
OPENAI_API_KEY=<your-openai-api-key>

# Anthropic (for P2 backup - Claude Haiku)
ANTHROPIC_API_KEY=<your-anthropic-api-key>

# GitHub Models (alternative provider)
GITHUB_MODELS_TOKEN=<your-github-token>

# DeepSeek (alternative cheap provider)
DEEPSEEK_API_KEY=<your-deepseek-api-key>

# Perplexity (alternative provider)
PERPLEXITY_API_KEY=<your-perplexity-api-key>

# ----------------------------------------------------------------------------
# ALTERNATIVE CONFIGURATIONS
# ----------------------------------------------------------------------------

# If llama-3.3-70b is not available, use:
# TRIPLE_AI_P2_PRIMARY=meta-llama/llama-3.1-70b-instruct

# If you want all free models:
# TRIPLE_AI_P1_PRIMARY=meta-llama/llama-3.1-8b-instruct:free
# TRIPLE_AI_P1_BACKUP=mistralai/mistral-7b-instruct:free
# TRIPLE_AI_P2_PRIMARY=meta-llama/llama-3.1-70b-instruct:free
# TRIPLE_AI_P2_BACKUP=google/gemini-flash-1.5:free
# TRIPLE_AI_P3_PRIMARY=openai/gpt-4o-mini
# TRIPLE_AI_P3_BACKUP=openai/gpt-3.5-turbo

# If you want maximum quality (paid models):
# TRIPLE_AI_P1_PRIMARY=anthropic/claude-3-haiku
# TRIPLE_AI_P1_BACKUP=google/gemini-pro-1.5
# TRIPLE_AI_P2_PRIMARY=meta-llama/llama-3.3-70b-instruct
# TRIPLE_AI_P2_BACKUP=anthropic/claude-3-sonnet
# TRIPLE_AI_P3_PRIMARY=openai/gpt-4o-mini
# TRIPLE_AI_P3_BACKUP=openai/gpt-4o

# ----------------------------------------------------------------------------
# KNOWLEDGE ENGINE SETTINGS
# ----------------------------------------------------------------------------

# Number of domains to fuse for complex queries
KNOWLEDGE_ENGINE_DOMAINS=5

# Domain entanglement threshold (0.0 - 1.0)
DOMAIN_ENTANGLEMENT_THRESHOLD=0.5

# Enable quantum entanglement features
QUANTUM_ENTANGLEMENT_ENABLED=true

# ----------------------------------------------------------------------------
# PROVIDER SETTINGS
# ----------------------------------------------------------------------------

# Primary provider (openrouter, github, openai, anthropic)
PRIMARY_AI_PROVIDER=openrouter

# Fallback provider chain
FALLBACK_PROVIDERS=github,openai,anthropic,deepseek

# Request timeout (milliseconds)
AI_REQUEST_TIMEOUT=30000

# Rate limiting
AI_MAX_REQUESTS_PER_MINUTE=60

# ----------------------------------------------------------------------------
# DOMAIN ROUTING
# ----------------------------------------------------------------------------

# Enable domain-based routing
DOMAIN_ROUTING_ENABLED=true

# Auto-detect user intent
AUTO_INTENT_DETECTION=true

# Number of Iracore domains
IRACORE_DOMAIN_COUNT=30

# ----------------------------------------------------------------------------
# VERIFICATION CHECKLIST
# ----------------------------------------------------------------------------
#
# Before starting server, verify:
# [x] P1 Primary is NOT gpt-4o-mini (use cheap industrial)
# [x] P2 Primary is meta-llama 70B variant
# [x] P3 Primary is gpt-4o-mini
# [x] All 3 primaries are different models
# [x] All 3 backups are different from each other
# [x] All API keys are valid and not expired
# [x] Models exist on their respective providers
#
# ----------------------------------------------------------------------------

# ============================================================================
# HOW TO TEST YOUR CONFIGURATION
# ============================================================================
#
# 1. Test P1 Model:
#    curl https://openrouter.ai/api/v1/chat/completions \
#      -H "Authorization: Bearer $OPENROUTER_API_KEY" \
#      -d '{"model": "meta-llama/llama-3.1-8b-instruct:free", "messages": [{"role": "user", "content": "test"}]}'
#
# 2. Test P2 Model:
#    curl https://openrouter.ai/api/v1/chat/completions \
#      -H "Authorization: Bearer $OPENROUTER_API_KEY" \
#      -d '{"model": "meta-llama/llama-3.3-70b-instruct", "messages": [{"role": "user", "content": "test"}]}'
#
# 3. Test P3 Model:
#    curl https://api.openai.com/v1/chat/completions \
#      -H "Authorization: Bearer $OPENAI_API_KEY" \
#      -d '{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": "test"}]}'
#
# 4. Test Triple AI endpoint:
#    curl http://localhost:3001/api/triple-ai \
#      -H "Content-Type: application/json" \
#      -d '{"query": "test query", "mode": "auto-advanced"}'
#
# ============================================================================

# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# If Triple AI not working:
# 1. Check all API keys are valid (not expired)
# 2. Verify model names exist on providers
# 3. Check backend logs for specific errors
# 4. Test each model individually (see tests above)
# 5. Ensure database has domain_entanglements data
#
# Common issues:
# - "Model not found" → Update model name to current version
# - "API key invalid" → Get fresh key from provider
# - "Unauthorized" → Check key format and permissions
# - Empty response → Check Knowledge Engine and domain routing
#
# ============================================================================
